document.addEventListener("DOMContentLoaded",function(){let i=document.getElementById("toc-list"),e=document.querySelectorAll("section.single h2"),d=(e.forEach((e,t)=>{e.id||(e.id="heading-"+t)}),t=>{document.querySelectorAll("#toc-list a").forEach(e=>{e.classList.remove("active"),e.getAttribute("href")==="#"+t&&e.classList.add("active")})});e.forEach(e=>{let t=e.getAttribute("id");var n,o,e=e.textContent.trim();t&&(n=document.createElement("li"),(o=document.createElement("a")).href="#"+t,o.textContent=e,o.addEventListener("click",function(e){e.preventDefault();e=document.getElementById(t).getBoundingClientRect().top+window.pageYOffset-100;window.scrollTo({top:e,behavior:"smooth"}),d(t)}),n.appendChild(o),i.appendChild(n))});var t=()=>{let o=window.innerHeight/2,i=null;e.forEach(e=>{var t=e.getBoundingClientRect(),n=t.top+window.scrollY;t.height;window.scrollY+o>=n&&window.scrollY+o<n+t.height&&(i=e.getAttribute("id"))}),i&&d(i)};window.addEventListener("scroll",t),t()});